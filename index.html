<!DOCTYPE html>
<html>
<head>
  <link rel="stylesheet" type="text/css" href="styles.css" />
  <script src="http://d3js.org/d3.v2.min.js?2.10.1"></script>
  <script src="http://underscorejs.org/underscore.js"></script>
  <title>Don't Get Hit!</title>
</head>
<body>
  <h1> Don't Get Hit! </h1>
    <!-- <div class = "gameBoard">
      <div class = "scoreBoard">
        <h3> High Score: <span class = "bestScore"></span> </h3>
        <h3> Current Score: <span class = "activeScore"></span> </h3>
      </div>
    </div> -->
    <script>var gameSettings = {
      height: 600,
      width: 800,
      nEnemies: 45,
      padding: 20
    }

// var score = {
//   currentScore: 0,
//   bestScore: 0
// }

// draw a gameboard with SVG
var board = d3.select('body').append('svg:svg').attr({width: gameSettings.width, height: gameSettings.height, class: "gameBoard"});

var grid = {
  // this code makes a grid on top of our gameBoard.
  x: d3.scale.linear().domain([0, 100]).range([0, gameSettings.width]),
  y: d3.scale.linear().domain([0, 100]).range([0, gameSettings.height])
}

var makeEnemies = function () {
  return _.range(0, gameSettings.nEnemies).map(function(i) {
    return {
      id: i,
      x: Math.random() * 800,
      y: Math.random() * 600
    }
  })
};

var enemies = makeEnemies();

// render badguys
var renderEnemies = board.selectAll('circle').data(enemies).enter().append('circle').attr('cx', function(i){ return i.x; }).attr('cy', function(i){ return i.y; }).attr('id', function(i){ return i.id; }).attr('r', 10).attr('fill', 'blue' );

setInterval(function(){
  renderEnemies.transition().duration(1000).attr('cx', function(i){ return Math.random() * 800}).attr('cy', function(i){ return Math.random() * 600})
}, 2000);


var Player = function(){
};

Player.prototype.path = "m161,112l-38,58l13.5,21l49.5,0l12,-25l-37,-54z"

Player.prototype.fill="red"

d3.selectAll('circle').data([Player]).enter().append('circle').attr('cx', 50).attr('cy', 50).attr('r', 30).attr('fill', 'red');

// var playGame = function (){
//   var gameTurn = function(){
//     var newEnemyPositions = makeEnemies();
//     return render(newEnemyPositions);
//   }
//   gameTurn();
// };

// playGame();
</script>
</body>

</html>